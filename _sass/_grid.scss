.g-container {
    margin-right: auto;
    margin-left: auto;
    padding-right: floor(($gutter-width / 2));;
    padding-left: ceil(($gutter-width / 2));
}

.g-row {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    margin-right: $gutter-compensation;
    margin-left: $gutter-compensation;
}

.g-col {
    display: flex;
    flex-direction: column;
    flex-wrap: wrap;
    margin-top: $gutter-compensation;
    margin-bottom: $gutter-compensation;
}

// modifier
.g-reverse {
    flex-direction: reverse;
}

.g-flex {
    display: flex;
}

@each $breakpoint in $g-breakpoints {
    $name: nth($breakpoint, 1);
    $size: nth($breakpoint, 2);

    @media only screen and (min-width: $size) {

        .g-container {
            max-width: $size - $gutter-width * 2;
        }

        @for $i from 1 through $g-grid-columns {
            .g-col-#{$name}-#{$i} {
                padding-right: $half-gutter-width;
                padding-left: $half-gutter-width;
                flex-grow: 0;
                flex-shrink: 1;
                // !!! this is because of IE10 - IE11
                // https://github.com/philipwalton/flexbugs#7-flex-basis-doesnt-account-for-box-sizingborder-box
                flex-basis: auto;
                width: (100% / $g-grid-columns) * $i;
            }
        }

        .g-col {
            flex-direction: column;
        }

        .g-row-#{$name} {
            flex-direction: row;
        }

        .g-start-#{$name} {
           justify-content: flex-start;
           text-align: start;
        }

        .g-center-#{$name} {
           justify-content: center;
           text-align: center;
        }

        .g-end-#{$name} {
           justify-content: flex-end;
           text-align: end;
        }

        .g-top-#{$name} {
           align-items: flex-start;
        }

        .g-middle-#{$name} {
           align-items: center;
        }

        .g-stretch-#{$name} {
           align-items: stretch;
        }

        .g-bottom-#{$name} {
           align-items: flex-end;
        }

        .g-around-#{$name} {
           justify-content: space-around;
        }

        .g-between-#{$name} {
           justify-content: space-between;
        }

        .g-first-#{$name} {
           order: -1;
        }

        .g-last-#{$name} {
           order: 1;
        }
    }
}
